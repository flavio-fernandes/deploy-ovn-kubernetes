cat << EOT >> ~/.gitconfig
[alias]
    co = checkout
    ss = status -s
    st = status
    stt = status --untracked-files=no
    lg = log --oneline --decorate --graph
    lga = log --oneline --decorate --graph --all
    lbrief = log --pretty=oneline --abbrev-commit
    branchr = remote show origin
EOT

sudo cp -v /vagrant/junk/k9s /usr/local/bin/k9s
tar xzvf /vagrant/junk/ddocker.tgz
sudo dnf install -y tcpdump

# warm docker images
docker pull kindest/node:v1.31.0 && \
docker pull ghcr.io/flavio-fernandes/ovn-kubernetes/ovn-kube-fedora:release-1.0 && \
docker pull ghcr.io/flavio-fernandes/ovn-kubernetes/ovn-kube-ubuntu:release-1.0 && \
docker pull ghcr.io/flavio-fernandes/ovn-kubernetes/ovn-kube-fedora:master && \
docker pull ghcr.io/flavio-fernandes/ovn-kubernetes/ovn-kube-ubuntu:master && \
docker pull quay.io/cilium/cilium:v1.16.5 && \
docker pull ghcr.io/k8snetworkplumbingwg/multus-cni:snapshot-thick && \
docker pull alpine && \
docker pull nvcr.io/nv-ngn/sdn-dev/kind-node:v1.30.6 && \
echo ok

vagrant halt && vagrant snapshot save freshAndClean

# restoring from snapshot
vagrant snapshot restore --no-provision freshAndClean && \
    time vagrant up --no-destroy-on-error

# sudo dnf install -y --quiet tcpdump
# kind delete clusters kind ; rm -rf ~/ovn-kubernetes
